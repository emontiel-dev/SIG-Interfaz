/* =========================================================================== */
/* 1. abstracts/_variables.css                                                 */
/* =========================================================================== */
:root {
    --blanco: #ffffff;
    --negro-azabache: #1C1C1E;
    --gris-fondo-claro: #F9F9F9;
    --gris-elemento-claro: #FFFFFF;
    --gris-borde-sutil: #E5E5EA;
    --gris-borde-input: #D1D1D6;
    --gris-hover-sutil: #F2F2F7;
    --gris-texto-secundario: #8A8A8E;
    --gris-texto-terciario: #AEAEB2;
    --gris-fondo-deshabilitado: #EFEFF4;
    --amarillo-polleria: #FFC107;
    --amarillo-polleria-hover: #E0A800;
    --amarillo-polleria-focus-ring: rgba(255, 193, 7, 0.3);
    --texto-sobre-amarillo: var(--negro-azabache);
    --verde-exito: #34A853;
    --verde-exito-fondo: #E6F5EA;
    --verde-accion: #4CAF50;
    --texto-sobre-verde: var(--blanco);
    --azul-info: #007AFF;
    --azul-info-fondo: #E5F2FF;
    --rojo-peligro-texto: #D93025;
    --rojo-peligro-fondo: #FCE8E6;
    --fuente-principal: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    --tamano-fuente-base: 16px;
    --line-height-base: 1.6;
    --line-height-titulo: 1.25;
    --sombra-sm: 0 2px 4px rgba(0, 0, 0, 0.04);
    --sombra-md: 0 4px 12px rgba(0, 0, 0, 0.06);
    --transicion-suave: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    --radio-borde-s: 6px;
    --radio-borde-m: 10px;
    --radio-borde-l: 16px;
    --radio-borde-pill: 50rem;
    --espacio-s: 0.5rem;
    --espacio-m: 1rem;
    --espacio-l: 1.5rem;
    --espacio-xl: 2rem;
}

/* Resto de estilos... (Reset, Tipografía, Botones, etc.) */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; font-size: var(--tamano-fuente-base); }
body { font-family: var(--fuente-principal); line-height: var(--line-height-base); background-color: var(--gris-fondo-claro); color: var(--negro-azabache); -webkit-font-smoothing: antialiased; overflow-x: hidden; }
h1, h2, h3 { font-family: var(--fuente-principal); line-height: var(--line-height-titulo); color: var(--negro-azabache); margin-bottom: var(--espacio-m); font-weight: 700; }
a { text-decoration: none; color: var(--amarillo-polleria); }
header { background: var(--gris-elemento-claro); padding: var(--espacio-m) var(--espacio-m) var(--espacio-s) var(--espacio-m); text-align: center; border-bottom: 1px solid var(--gris-borde-sutil); position: sticky; top: 0; z-index: 1000; box-shadow: var(--sombra-sm); }
header h1 { font-size: 1.8em; margin-bottom: var(--espacio-s); }
header h1 a { color: var(--negro-azabache); }
.icon-nav-mobile { display: flex; justify-content: space-around; }
.nav-item { display: flex; flex-direction: column; align-items: center; text-decoration: none; color: var(--gris-texto-secundario); padding: var(--espacio-s); flex: 1; position: relative; }
.nav-icon svg { width: 24px; height: 24px; stroke-width: 1.8; color: var(--gris-texto-secundario); }
.nav-label { font-size: 0.7em; }
.nav-item.active-link .nav-icon svg, .nav-item.active-link .nav-label { color: var(--amarillo-polleria); font-weight: 600; }
.nav-item.active-link::after { content: ''; position: absolute; bottom: 0; left: 25%; width: 50%; height: 3px; background-color: var(--amarillo-polleria); border-radius: var(--radio-borde-pill); }
main { padding: var(--espacio-l); padding-bottom: 120px; }
.btn { display: inline-flex; align-items: center; justify-content: center; width: 100%; padding: 14px var(--espacio-l); font-size: 1em; border: 1px solid transparent; border-radius: var(--radio-borde-m); cursor: pointer; text-decoration: none; font-weight: 600; text-align: center; margin-bottom: var(--espacio-m); transition: var(--transicion-suave); }
.btn:hover:not(:disabled) { transform: translateY(-2px); box-shadow: var(--sombra-md); }
.btn-primario { background-color: var(--amarillo-polleria); color: var(--texto-sobre-amarillo); }
.btn-secondary { background-color: var(--gris-texto-secundario); color: var(--blanco); }
.card { background-color: var(--gris-elemento-claro); border-radius: var(--radio-borde-l); border: 1px solid var(--gris-borde-sutil); box-shadow: var(--sombra-sm); margin-bottom: var(--espacio-l); cursor: pointer; }
.card:hover { transform: translateY(-3px); box-shadow: var(--sombra-md); }
.card-body { padding: var(--espacio-l); }
.d-flex { display: flex; }
.justify-content-between { justify-content: space-between; }
.align-items-center { align-items: center; }
.fw-bold { font-weight: 700; }
.mb-0 { margin-bottom: 0; }
.text-right { text-align: right; }
.text-gris-secundario { color: var(--gris-texto-secundario); }
.text-negro-azabache { color: var(--negro-azabache); }
.text-success { color: var(--verde-exito); }
.badge { display: inline-block; padding: .35em .7em; font-size: .75em; font-weight: 700; line-height: 1; color: var(--blanco); text-align: center; white-space: nowrap; vertical-align: middle; border-radius: var(--radio-borde-m); text-transform: uppercase; }
.badge-amarillo-polleria { background-color: var(--amarillo-polleria); color: var(--texto-sobre-amarillo); }
.badge-azul { background-color: var(--azul-info); color: var(--blanco); }
.badge-gris { background-color: var(--gris-texto-secundario); color: var(--blanco); }
.form-group { margin-bottom: var(--espacio-l); }
.form-group label { display: block; margin-bottom: var(--espacio-s); font-weight: 600; font-size: 0.9em; }
.form-group input[type="text"], .form-group input[type="search"], .form-group input[type="number"] { width: 100%; padding: 14px var(--espacio-m); border: 1px solid var(--gris-borde-input); border-radius: var(--radio-borde-m); font-size: 1em; background-color: var(--gris-elemento-claro); }
.search-results { max-height: 200px; overflow-y: auto; background: var(--blanco); border: 1px solid var(--gris-borde-sutil); border-top: none; border-radius: 0 0 var(--radio-borde-m) var(--radio-borde-m); position: absolute; width: 100%; z-index: 999; box-shadow: var(--sombra-md); }
.search-result-item { padding: var(--espacio-m); cursor: pointer; }
.search-result-item:hover { background: var(--gris-hover-sutil); }
.table-container { overflow-x: auto; margin-bottom: var(--espacio-xl); border-radius: var(--radio-borde-l); background-color: var(--gris-elemento-claro); box-shadow: var(--sombra-sm); }
table { width: 100%; border-collapse: separate; border-spacing: 0; }
th, td { padding: var(--espacio-m); text-align: left; font-size: .95em; vertical-align: middle; }
th { background-color: var(--gris-hover-sutil); color: var(--gris-texto-secundario); font-weight: 600; text-transform: uppercase; font-size: .8em; white-space: nowrap; border-bottom: 1px solid var(--gris-borde-sutil); }
td { color: var(--negro-azabache); border-bottom: 1px solid var(--gris-borde-sutil); }
tbody tr:last-child td { border-bottom: none; }
.product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: var(--espacio-s); margin-top: var(--espacio-l); }
.product-btn { padding: var(--espacio-s); font-size: .8em; height: 80px; display: flex; flex-direction: column; justify-content: center; align-items: center; line-height: 1.2; border: 1px solid var(--gris-borde-input); background: var(--blanco); border-radius: var(--radio-borde-m); cursor: pointer; transition: var(--transicion-suave); }
.product-btn:hover { transform: translateY(-3px); box-shadow: var(--sombra-md); }
.product-btn span { font-size: 1.4em; font-weight: 700; color: var(--amarillo-polleria); }
.pos-footer { position: fixed; bottom: 0; left: 0; right: 0; background: var(--gris-elemento-claro); padding: var(--espacio-m); border-top: 1px solid var(--gris-borde-sutil); box-shadow: 0 -4px 12px rgba(0,0,0,.06); display: flex; gap: var(--espacio-m); z-index: 1000; }
#product-modal-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.6); display: flex; justify-content: center; align-items: center; z-index: 2000; padding: var(--espacio-m); }
/* =========================================================================== */
/* 16. components/_modal.css                                                   */
/* =========================================================================== */

/* Animación del modal */
@keyframes slide-up {
    from {
        transform: translateY(30px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

/* Contenedor del overlay del modal */
#product-modal-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 2000;
    padding: var(--espacio-m);
    /* Controlado por JS: display: none; */
}

/* Contenedor principal del contenido del modal */
.modal-content {
    background-color: var(--blanco); /* Usar variable de style.css */
    border-radius: var(--radio-borde-l); /* Usar variable de style.css */
    box-shadow: var(--sombra-md); /* Usar variable de style.css */
    width: 100%;
    max-width: 400px;
    margin: 0 var(--espacio-m);
    display: flex;
    flex-direction: column;
    overflow: hidden;
    animation: slide-up 0.3s ease-out; /* Aplicamos la animación */
    max-height: 90vh; /* Ajuste para pantallas */
}

/* Cabecera del modal */
.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--espacio-m) var(--espacio-l);
    border-bottom: 1px solid var(--gris-borde-sutil); /* Usar variable de style.css */
}

.modal-header h2 {
    margin: 0;
    font-size: 1.25rem;
    color: var(--negro-azabache); /* Usar variable de style.css */
}

.modal-close-btn {
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: var(--gris-texto-secundario); /* Usar variable de style.css */
    padding: 0;
    line-height: 1;
}

/* Cuerpo del modal (con scroll) */
.modal-body {
    padding: var(--espacio-l);
    overflow-y: auto;
    max-height: 80vh; /* Mantener esto por si el contenido excede */
}

/* Pie de página del modal */
.modal-footer {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--espacio-m);
    padding: var(--espacio-m) var(--espacio-l);
    border-top: 1px solid var(--gris-borde-sutil); /* Usar variable de style.css */
    background-color: var(--gris-fondo-claro); /* Usar variable de style.css */
}

/* Grupo de personalización dentro del modal */
.personalization-group {
    border: 1px solid var(--gris-borde-sutil); /* Usar variable de style.css */
    border-radius: var(--radio-borde-m);
    padding: var(--espacio-m);
    padding-top: var(--espacio-l); /* Espacio para el título flotante */
    margin-bottom: var(--espacio-l);
    position: relative;
}

/* Ajuste para el último grupo de personalización */
.modal-body > .personalization-group:last-child {
    margin-bottom: 0;
}

/* Título flotante del grupo de personalización */
.personalization-group h4 {
    position: absolute;
    top: -12px; /* Ajuste para que flote sobre el borde */
    left: var(--espacio-m);
    background-color: var(--blanco); /* Fondo para cubrir el borde */
    padding: 0 8px;
    margin: 0;
    font-size: 1rem;
    color: var(--negro-azabache); /* Usar variable de style.css */
    z-index: 1; /* Asegura que esté sobre el borde */
}

/* Contenedor de opciones (botones de variante) */
.options-container {
    display: flex;
    gap: 8px; /* Espacio entre botones */
    flex-wrap: wrap;
}

/* Botón de variante (producto, precio, procesamiento) */
.btn-variant {
    flex-grow: 1;
    text-align: center;
    background-color: var(--gris-fondo-claro); /* Usar variable de style.css */
    color: var(--negro-azabache); /* Usar variable de style.css */
    padding: 10px 12px;
    border: 1px solid var(--gris-borde-input); /* Usar variable de style.css */
    border-radius: var(--radio-borde-m); /* Usar variable de style.css */
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 500;
    transition: var(--transicion-rapida); /* Usar variable de style.css */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    line-height: 1.3;
    -webkit-tap-highlight-color: transparent;
}

.btn-variant:hover {
    background-color: var(--gris-hover-sutil); /* Usar variable de style.css */
}

.btn-variant:focus-visible {
    outline: none;
    border-color: var(--amarillo-polleria); /* Usar variable de style.css */
    box-shadow: 0 0 0 2px var(--amarillo-polleria-focus-ring); /* Usar variable de style.css */
}

.btn-variant.active {
    background-color: var(--amarillo-polleria); /* Usar variable de style.css */
    border-color: var(--amarillo-polleria-hover); /* Usar variable de style.css */
    color: var(--texto-sobre-amarillo); /* Usar variable de style.css */
    font-weight: 600;
}

.btn-variant span {
    display: block;
}

.btn-variant span:first-child {
    font-weight: 600;
}

/* Contenedor para inputs en línea (Cantidad/Costo) */
.input-group-inline {
    display: flex;
    gap: var(--espacio-m);
}

.input-group-inline .form-group {
    flex: 1;
    margin-bottom: 0;
}

/* Estilos específicos para inputs de número en el modal */
.form-group input[type="number"]#modal-quantity,
.form-group input[type="number"]#modal-cost {
    width: 100%;
    padding: 12px;
    font-size: 1.1rem;
    font-weight: 600;
    text-align: center;
    border: 1px solid var(--gris-borde-input); /* Usar variable de style.css */
    border-radius: var(--radio-borde-s); /* Usar variable de style.css */
    box-sizing: border-box;
    -moz-appearance: textfield;
}

.form-group input[type="number"]#modal-quantity::-webkit-outer-spin-button,
.form-group input[type="number"]#modal-quantity::-webkit-inner-spin-button,
.form-group input[type="number"]#modal-cost::-webkit-outer-spin-button,
.form-group input[type="number"]#modal-cost::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

.form-group input[type="number"]#modal-quantity:focus-visible,
.form-group input[type="number"]#modal-cost:focus-visible {
    outline: none;
    border-color: var(--amarillo-polleria); /* Usar variable de style.css */
    box-shadow: 0 0 0 2px var(--amarillo-polleria-focus-ring); /* Usar variable de style.css */
}

/* Clase para centrar botones en una sola fila */
.single-row-center {
    justify-content: center; /* Centra los elementos flex */
}

.single-row-center .btn-variant {
    flex-grow: 0; /* Evita que crezcan */
    min-width: 100px; /* Ancho mínimo para que no se hagan muy pequeños */
}

/* =========================================================================== */
/* 17. components/_message-box.css                                             */
/* =========================================================================== */
.message-box {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    padding: 15px 25px;
    border-radius: var(--radio-borde-m); /* Usar variable de style.css */
    box-shadow: var(--sombra-md); /* Usar variable de style.css */
    z-index: 1000;
    display: none; /* Oculto por defecto, controlado por JS */
    opacity: 0; /* Opacidad para la transición */
    transition: opacity 0.3s ease-in-out;
    text-align: center;
    min-width: 250px;
    font-family: var(--fuente-principal); /* Usar variable de style.css */
    color: var(--blanco); /* Color de texto por defecto */
}

.message-box-info {
    background-color: var(--azul-info); /* Usar variable de style.css */
}

.message-box-success {
    background-color: var(--verde-exito); /* Usar variable de style.css */
}

.message-box-error {
    background-color: var(--rojo-peligro-texto); /* Usar variable de style.css */
}

/* =========================================================================== */
/* 18. utilities/_visibility.css                                               */
/* =========================================================================== */

/* Clases para controlar la visibilidad con display */
.d-none { display: none !important; }
.d-block { display: block !important; }
.d-flex { display: flex !important; }

/* Clases específicas para elementos controlados por JS */
.pos-footer-visible {
    display: flex !important; /* Asegura que se muestre como flex */
}

.modal-visible {
    display: flex !important; /* Asegura que se muestre como flex */
}

.customer-selected {
    display: flex !important; /* Muestra el div del cliente seleccionado */
}

.customer-search-active {
    display: block !important; /* Muestra el input de búsqueda */
}

.search-results-visible {
    display: block !important; /* Muestra los resultados de búsqueda */
}

.product-options-hidden {
    display: none !important; /* Oculta la sección de opciones de producto */
}

/* Clase para el span de precio pequeño en botones de variante */
.price-display-small {
    font-size: 0.9em;
}
